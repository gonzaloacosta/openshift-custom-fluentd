<filter kubernetes.**>
  @type record_transformer
  enable_ruby
  <record>
    kubernetes_namespace_name ${record["kubernetes"] && record["kubernetes"]["namespace_name"] ? record["kubernetes"]["namespace_name"] : "undefined_namespace_name"}
    kubernetes_pod_name ${record["kubernetes"] && record["kubernetes"]["pod_name"] ? record["kubernetes"]["pod_name"] : "undefined_pod_name"}
    kubernetes_container_name ${record["kubernetes"] && record["kubernetes"]["container_name"] ? record["kubernetes"]["container_name"] : "undefined_container_name"}
  </record>
</filter>
<filter **>
  @type grep
  #Always filter out the restricted namespaces
  regexp1 kubernetes_namespace_name ^(tercero)
  exclude1 kubernetes_namespace_name (null|devnull|logging|default|kube-public|kube-service-catalog|kube-system|logging|management-infra|openshift|openshift-ansible-service-broker|openshift-infra|openshift-metrics|openshift-node|primero|segundo)
  #exclude2 level (info)
</filter>
